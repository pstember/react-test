
# Accessibility Standards: WCAG Compliance Best Practices

**THESE INSTRUCTIONS ARE CRITICAL!**

They ensure inclusive, accessible applications that work for all users, including those with disabilities.

## Accessibility Protocol

### Semantic HTML Structure
```vue
<!-- ✅ Good - Semantic HTML with proper landmarks -->
<template>
  <div class="app">
    <header role="banner" aria-label="Main navigation">
      <nav role="navigation" aria-label="Primary navigation">
        <ul>
          <li><a href="/" aria-current="page">Home</a></li>
          <li><a href="/recipes">Recipes</a></li>
          <li><a href="/about">About</a></li>
        </ul>
      </nav>
    </header>
    
    <main role="main" id="main-content">
      <h1>Discover Amazing Recipes</h1>
      
      <section aria-labelledby="search-heading">
        <h2 id="search-heading">Search Recipes</h2>
        <SearchBar />
      </section>
      
      <section aria-labelledby="recipes-heading">
        <h2 id="recipes-heading">Recipe Collection</h2>
        <div role="grid" aria-label="Recipe grid">
          <RecipeCard 
            v-for="recipe in recipes" 
            :key="recipe.id" 
            :recipe="recipe" 
            role="gridcell"
          />
        </div>
      </section>
    </main>
    
    <footer role="contentinfo">
      <p>&copy; 2024 Recipe App</p>
    </footer>
  </div>
</template>
```

### ARIA Labels and Descriptions
```vue
<!-- ✅ Good - Proper ARIA attributes -->
<template>
  <div class="recipe-card" role="article">
    <img 
      :src="recipe.image" 
      :alt="`Photo of ${recipe.name}`"
      aria-describedby="recipe-description"
    />
    
    <h3 id="recipe-title">{{ recipe.name }}</h3>
    
    <p id="recipe-description" class="sr-only">
      {{ recipe.description }}. Cook time: {{ recipe.cookTime }} minutes. 
      Serves {{ recipe.servings }} people.
    </p>
    
    <div class="recipe-meta" aria-label="Recipe details">
      <span aria-label="Cook time">{{ recipe.cookTime }} min</span>
      <span aria-label="Servings">{{ recipe.servings }} servings</span>
    </div>
    
    <button 
      @click="viewRecipe"
      aria-label="View recipe details for {{ recipe.name }}"
      aria-describedby="recipe-description"
    >
      View Recipe
    </button>
  </div>
</template>

<style scoped>
/* ✅ Good - Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}
</style>
```

### Form Accessibility
```vue
<!-- ✅ Good - Accessible form elements -->
<template>
  <form @submit.prevent="handleSubmit" role="search">
    <div class="form-group">
      <label for="search-input" id="search-label">
        Search recipes by name or ingredients
      </label>
      
      <input
        id="search-input"
        v-model="searchQuery"
        type="search"
        :aria-labelledby="searchLabelId"
        :aria-describedby="searchDescriptionId"
        :aria-invalid="hasError"
        :aria-errormessage="errorMessageId"
        placeholder="Enter recipe name or ingredients..."
        autocomplete="off"
      />
      
      <div 
        :id="searchDescriptionId" 
        class="sr-only"
        aria-live="polite"
      >
        Search results will appear as you type
      </div>
      
      <div 
        v-if="hasError"
        :id="errorMessageId"
        class="error-message"
        role="alert"
        aria-live="assertive"
      >
        {{ errorMessage }}
      </div>
    </div>
    
    <button 
      type="submit"
      :aria-label="`Search for ${searchQuery || 'recipes'}`"
      :disabled="isLoading"
    >
      <span v-if="isLoading" aria-hidden="true">
        <LoadingSpinner />
      </span>
      <span v-else>Search</span>
    </button>
  </form>
</template>

<script setup lang="ts">
const searchQuery = ref('')
const isLoading = ref(false)
const hasError = ref(false)
const errorMessage = ref('')

const searchLabelId = 'search-label'
const searchDescriptionId = 'search-description'
const errorMessageId = 'search-error'

const handleSubmit = async () => {
  if (!searchQuery.value.trim()) {
    hasError.value = true
    errorMessage.value = 'Please enter a search term'
    return
  }
  
  isLoading.value = true
  hasError.value = false
  
  try {
    await searchRecipes(searchQuery.value)
  } catch (error) {
    hasError.value = true
    errorMessage.value = 'Search failed. Please try again.'
  } finally {
    isLoading.value = false
  }
}
</script>
```

### Keyboard Navigation
```vue
<!-- ✅ Good - Keyboard navigation support -->
<template>
  <div class="recipe-grid" role="grid">
    <div
      v-for="(recipe, index) in recipes"
      :key="recipe.id"
      class="recipe-card"
      role="gridcell"
      :tabindex="0"
      @keydown="handleKeyDown($event, recipe, index)"
      @click="viewRecipe(recipe)"
      @focus="handleFocus(recipe)"
      @blur="handleBlur"
    >
      <img 
        :src="recipe.image" 
        :alt="`Photo of ${recipe.name}`"
      />
      <h3>{{ recipe.name }}</h3>
    </div>
  </div>
</template>

<script setup lang="ts">
const handleKeyDown = (event: KeyboardEvent, recipe: Recipe, index: number) => {
  const cards = document.querySelectorAll('.recipe-card')
  const currentIndex = index
  
  switch (event.key) {
    case 'Enter':
    case ' ':
      event.preventDefault()
      viewRecipe(recipe)
      break
      
    case 'ArrowRight':
      event.preventDefault()
      const nextIndex = (currentIndex + 1) % cards.length
      ;(cards[nextIndex] as HTMLElement).focus()
      break
      
    case 'ArrowLeft':
      event.preventDefault()
      const prevIndex = currentIndex === 0 ? cards.length - 1 : currentIndex - 1
      ;(cards[prevIndex] as HTMLElement).focus()
      break
      
    case 'ArrowDown':
      event.preventDefault()
      const downIndex = (currentIndex + 3) % cards.length
      ;(cards[downIndex] as HTMLElement).focus()
      break
      
    case 'ArrowUp':
      event.preventDefault()
      const upIndex = currentIndex < 3 ? cards.length - (3 - currentIndex) : currentIndex - 3
      ;(cards[upIndex] as HTMLElement).focus()
      break
  }
}

const handleFocus = (recipe: Recipe) => {
  // Announce recipe details to screen readers
  const announcement = `${recipe.name}. Cook time: ${recipe.cookTime} minutes. Serves ${recipe.servings} people.`
  announceToScreenReader(announcement)
}

const handleBlur = () => {
  // Optional: Clear any focus indicators
}
</script>

<style scoped>
.recipe-card {
  outline: none;
  transition: box-shadow 0.2s ease;
}

.recipe-card:focus {
  box-shadow: 0 0 0 3px #007bff;
}

.recipe-card:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}
</style>
```

### Color and Contrast
```vue
<!-- ✅ Good - High contrast and color accessibility -->
<template>
  <div class="accessible-theme">
    <div class="status-indicator" :class="statusClass">
      <span class="sr-only">{{ statusText }}</span>
      <span aria-hidden="true">{{ statusIcon }}</span>
    </div>
    
    <button 
      class="btn btn-primary"
      :class="{ 'btn--loading': isLoading }"
      :disabled="isLoading"
    >
      <span v-if="isLoading" class="sr-only">Loading...</span>
      <span v-else>{{ buttonText }}</span>
    </button>
  </div>
</template>

<style scoped>
/* ✅ Good - High contrast colors */
.accessible-theme {
  --primary-color: #007bff;
  --primary-hover: #0056b3;
  --success-color: #28a745;
  --error-color: #dc3545;
  --warning-color: #ffc107;
  --text-color: #212529;
  --background-color: #ffffff;
  --border-color: #dee2e6;
}

/* ✅ Good - Minimum contrast ratios */
.btn-primary {
  background-color: var(--primary-color);
  color: white;
  border: 2px solid var(--primary-color);
  font-weight: 600;
}

.btn-primary:hover:not(:disabled) {
  background-color: var(--primary-hover);
  border-color: var(--primary-hover);
}

.btn-primary:focus {
  outline: 3px solid var(--primary-color);
  outline-offset: 2px;
}

/* ✅ Good - Focus indicators */
*:focus {
  outline: 2px solid var(--primary-color);
  outline-offset: 2px;
}

/* ✅ Good - Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
</style>
```

### Screen Reader Support
```typescript
// ✅ Good - Screen reader announcements
export const useScreenReader = () => {
  const announce = (message: string, priority: 'polite' | 'assertive' = 'polite') => {
    const announcement = document.createElement('div')
    announcement.setAttribute('aria-live', priority)
    announcement.setAttribute('aria-atomic', 'true')
    announcement.className = 'sr-only'
    announcement.textContent = message
    
    document.body.appendChild(announcement)
    
    // Remove after announcement
    setTimeout(() => {
      document.body.removeChild(announcement)
    }, 1000)
  }
  
  const announcePageTitle = (title: string) => {
    document.title = title
    announce(`Page loaded: ${title}`)
  }
  
  const announceLoadingState = (isLoading: boolean) => {
    if (isLoading) {
      announce('Loading content, please wait')
    } else {
      announce('Content loaded')
    }
  }
  
  return {
    announce,
    announcePageTitle,
    announceLoadingState
  }
}
```

### Focus Management
```vue
<!-- ✅ Good - Focus management -->
<template>
  <div>
    <button @click="openModal" ref="triggerButton">
      Open Recipe Details
    </button>
    
    <Modal 
      v-if="isModalOpen"
      @close="closeModal"
      :initial-focus="modalContent"
    >
      <div ref="modalContent" tabindex="-1">
        <h2>Recipe Details</h2>
        <p>{{ recipe.description }}</p>
        
        <button @click="closeModal" ref="closeButton">
          Close
        </button>
      </div>
    </Modal>
  </div>
</template>

<script setup lang="ts">
const isModalOpen = ref(false)
const triggerButton = ref<HTMLElement>()
const modalContent = ref<HTMLElement>()

const openModal = () => {
  isModalOpen.value = true
  // Focus will be managed by Modal component
}

const closeModal = () => {
  isModalOpen.value = false
  // Return focus to trigger button
  nextTick(() => {
    triggerButton.value?.focus()
  })
}
</script>
```

### Error Handling and Alerts
```vue
<!-- ✅ Good - Accessible error handling -->
<template>
  <div>
    <div 
      v-if="error"
      class="error-alert"
      role="alert"
      aria-live="assertive"
      aria-atomic="true"
    >
      <h3 class="error-title">Error</h3>
      <p class="error-message">{{ error.message }}</p>
      
      <button 
        @click="dismissError"
        class="error-dismiss"
        aria-label="Dismiss error message"
      >
        ×
      </button>
    </div>
    
    <div 
      v-if="success"
      class="success-alert"
      role="status"
      aria-live="polite"
      aria-atomic="true"
    >
      <p>{{ success }}</p>
    </div>
  </div>
</template>

<script setup lang="ts">
const error = ref<Error | null>(null)
const success = ref<string | null>(null)

const dismissError = () => {
  error.value = null
}

const showError = (message: string) => {
  error.value = new Error(message)
  // Announce to screen readers
  announceToScreenReader(`Error: ${message}`)
}

const showSuccess = (message: string) => {
  success.value = message
  // Announce to screen readers
  announceToScreenReader(message)
}
</script>
```

## Accessibility Checklist

### WCAG 2.1 AA Compliance
- [ ] **Perceivable**: Content is available to screen readers
- [ ] **Operable**: All functionality is keyboard accessible
- [ ] **Understandable**: Content is clear and predictable
- [ ] **Robust**: Works with assistive technologies

### Testing Requirements
- [ ] Screen reader testing (NVDA, JAWS, VoiceOver)
- [ ] Keyboard navigation testing
- [ ] Color contrast testing (4.5:1 minimum)
- [ ] Focus management testing
- [ ] Mobile accessibility testing

### Common Issues to Avoid
- [ ] Missing alt text on images
- [ ] Insufficient color contrast
- [ ] Missing focus indicators
- [ ] Non-semantic HTML structure
- [ ] Inaccessible form labels
- [ ] Missing ARIA attributes

## Remember

**Accessibility is not a feature—it's a fundamental requirement. Always design and develop with accessibility in mind from the start. Test with real users and assistive technologies regularly.**

---

*This rule ensures inclusive, accessible applications that work for all users, including those with disabilities.*


---

*This rule ensures inclusive, accessible applications that work for all users, including those with disabilities.*
